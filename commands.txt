#commands

execute all 3 yaml files in master node first
# kubectl create namespace ns1

# kubectl create namespace ns2

# kubectl create namespace ns3



#kubectl apply -f deploy.yaml -n ns2


# Now we have to create kubeconfig file for that particular service accounts


=========================================

# Generate token for Service accounts

kubectl -n default create token admin

eyJhbGciOiJSUzI1NiIsImtpZCI6IjItQ2lLOUp0QlZpOGpUcDgxUGU5bUJ4bmU2T2VWNWdxM1FkZDJidXU4NVUifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNzI2MTU4NDE0LCJpYXQiOjE3MjYxNTQ4MTQsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0Iiwic2VydmljZWFjY291bnQiOnsibmFtZSI6ImFkbWluIiwidWlkIjoiMDA1MjczMzctMmNmYi00ZmJjLTg4NTItMTM5YWZmNjA2ZGNkIn19LCJuYmYiOjE3MjYxNTQ4MTQsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmFkbWluIn0.Md8hawzVDsQuVp015puX-5xhNrjsA06BAyPRAh1_fAKqN7T0cvLS9G_jDHid7hWViyn5P0__-TaYnaeL-Tf-P1QeO3z-0xxQ3kE72ewfpXVXb7f7FygzowH9877L4VA7Di2td1_gQ22JeSk2bhzpsMckBs3uh6XAAXXEbkOInSFOjmET9Hlfqv3sPjFijAB3B3eemgj8jgjYN0HyGJo8QuydQjfRVtrINGupEV5wvYPUYwBnHStYQOXwcV0ETQ8kRdy8-9VQg012o_0_K1PtF_d3JaeTR1u6JFZIXiKbR1ExZ1n0Xcl3uF4Ad4Y-h4MK9ngnUd3EqKzG4WuCW6avFw





kubectl -n default create token general

eyJhbGciOiJSUzI1NiIsImtpZCI6IjItQ2lLOUp0QlZpOGpUcDgxUGU5bUJ4bmU2T2VWNWdxM1FkZDJidXU4NVUifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNzI2MTU4NDM0LCJpYXQiOjE3MjYxNTQ4MzQsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0Iiwic2VydmljZWFjY291bnQiOnsibmFtZSI6ImdlbmVyYWwiLCJ1aWQiOiIzNjg0NGQ0ZC0zYjUzLTQ0YzUtOGM1NC0zYjYxZTlkMWFmYzEifX0sIm5iZiI6MTcyNjE1NDgzNCwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmRlZmF1bHQ6Z2VuZXJhbCJ9.jKNgTQmfm2WPaDWmRMrhbxmLIMhhKCt3uDuUUCGa8-4VoIl-lqVl0PiN9gaHlYXLaZrmOiM1nypTmiQBnfZWy4__kwloTT_kOiuElWTc_HCngLaFnGMQKyDMkvjGvJOYRv7vXUGxGmVfPAM52ieo9fCLJRwu53s927n1aKBODY_gRoT2EV2LU-Khr28hUJns0FdrWzNeIOTsc5a5F43OrXwQ8JeckU62CAROAL4WTeYeJ3A99Zmm7eqkiJ13TNVhN0-9be5xppZ8kbNHa_FYqv1_tsg3sU5T3wMQEh53vKc_HvfsCodEGIvZ3YilDWr9Gtd7-ssXxiC1Z7RquAsU3Q





kubectl -n default create token others

eyJhbGciOiJSUzI1NiIsImtpZCI6IjItQ2lLOUp0QlZpOGpUcDgxUGU5bUJ4bmU2T2VWNWdxM1FkZDJidXU4NVUifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiXSwiZXhwIjoxNzI2MTU4NDYzLCJpYXQiOjE3MjYxNTQ4NjMsImlzcyI6Imh0dHBzOi8va3ViZXJuZXRlcy5kZWZhdWx0LnN2Yy5jbHVzdGVyLmxvY2FsIiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0Iiwic2VydmljZWFjY291bnQiOnsibmFtZSI6Im90aGVycyIsInVpZCI6Ijk5YWFhZGU4LTRhZTctNGI4Yi04YjU3LWZlNGIyYmY1ODA0MCJ9fSwibmJmIjoxNzI2MTU0ODYzLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDpvdGhlcnMifQ.O8Dmg54AkRAKzDCx_wBXdPvxD_RK3DfjaLijN9KdFuVPQFK1mxEDtFQvOhKBktAQthrheWLLXN-1ow9UhMMyaJNpBSBxvmTrYu0WAvaH5GiWESNiDHWjUPSKS6NfODi3wQrj87-Z38uJCdQI2usmaHJaeOFljVOSviqYNyGT6kOa47C3L86xiASICpeve2JYO0ZfcMcm-5vI4JNqTUm_ZrhfpTXMYP_ps2GjXB4IIYmbVbnSD-VuUKvjaah4xlgkfGI2iZgDkzVHx_IyJ9XBaml6sGTOsTzenK2TSLiypbnDBe4kEfvkjuNGjuk6FH04Qi7qIg0vZiAFmuwNLo_ImA





save output tokens code for all



=================================================


export KUBECONFIG=admin-config.yaml


apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  type: NodePort
  ports:
     - port: 80           # The port exposed inside the cluster (cluster IP)
      nodePort: 30080     # The port exposed on every node's IP address
